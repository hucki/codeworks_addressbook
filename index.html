<!DOCTYPE html>
<html>
<head>
  <title>Codeworks Coding Assignment - Address Book Coding Challenge by Stefan Huckschlag</title>
  <link href="./css/stylesheet.css" type="text/css" rel="stylesheet" />
  <script src="./js/jquery-3.4.1.js" type="text/javascript"></script>
  <script src="./js/script.js" type="text/javascript" charset="utf-8"></script>
  <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
  <header>
    <div class="header">
      <h1>Address Book Coding Challenge</h1>
        <div class="search">
          <span id="filterInfo"></span> &#x1F50D; <input type="text" name="searchfield" id="searchfield" size="8" placeholder="search">
        </div>
    </div>
  </header>
  <div id="message" class="confirmation" style="display: none;"></div>
  <div id="editModal">
    <div id="editContainer">
      <div id="editContent">
        <table id="editContactList">
          <thead>
            <tr>
              <td>&nbsp;</td>
              <td>First Name</td>
              <td>Surname</td>
              <td>Phone Number</td>
              <td>Address</td>
              <td></td>
            </tr>
          </thead>
          <tbody>
            <td id="editId"></td>
            <td><input id="editFirstName" type="text" name="First Name" label="First Name" value="" size="15"></td>
            <td><input id="editSurname" type="text" name="Surname" value="" size="15"></td>
            <td><input id="editPhone" type="text" name="Phone" value=""></td>
            <td><input id="editAddress" type="text" name="Address" value=""></td>
            <td></td>
          </tbody>
        </table>
      </div>
      <div id="editControls">
        <button id="saveButton">Save Changes</button>
      </div>
    </div>
  </div>
  <main>
    <!-- <form id="newAddressForm">-->

    <div class="contentTable">
      <table id="contactList">
        <thead>
          <tr>
            <td><input id="checkAll" type="checkbox" value="0" name="checkAll"></td>
            <td id="headingFirstName" class="tableHeading sortNot">First Name<span class="sortSymbol"></span></td>
            <td id="headingSurname" class="tableHeading sortNot">Surname<span class="sortSymbol"></span></td>
            <td id="headingPhone" class="tableHeading sortNot">Phone Number<span class="sortSymbol"></span></td>
            <td id="headingAddress" class="tableHeading sortNot">Address<span class="sortSymbol"></span></td>
            <td></td>
          </tr>
        </thead>
        <tbody>

        </tbody>
        <tfoot id="contactListFooter">
            <td>&nbsp;</td>
            <td><input id="newFirstName" type="text" name="First Name" label="First Name" value="" size="15" placeholder="new First Name"></td>
            <td><input id="newSurname" type="text" name="Surname" value="" size="15" placeholder="new Surname"></td>
            <td><input id="newPhone" type="text" name="Phone" value="" placeholder="new Phonenumber"></td>
            <td><input id="newAddress" type="text" name="Address" value="" placeholder="new Address"></td>
            <td></td>
        </tfoot>
      </table>
    </div>

    <div class="controls">
      <div class="controlsLeft">
        <button id="showInput">+</button>
        <button id="deleteButton">Delete</button>
        <button id="undoButton">Undo</button>
      </div>
      <div class="controlsRight">
        <button id="resetButton" alt="Resest Contact List with dummy data">Reset DB</button>
        <!--
        <button id="firstPageButton"><<</button>
        <button id="previousPageButton"><</button>
        <button id="nextPageButton">></button>
        <button id="lastPageButton">>></button>
      -->
      </div>
    </div>
  </main>
  <footer class="footer">
    <div class="footerCopyright">
      (c) 2020 by Stefan Huckschlag
    </div>
  </footer>
  <script type="text/javascript">
  /*
    Build a simple address book application using HTML, CSS, JavaScript and jQuery.
    done -> It is a single page, that opens in the browser,
    done -> where the user can create new contacts,
    done -> delete contacts,
    done -> and use a search bar to find existing contacts.
    done -> Each contact should have a name, surname, phone number, and address.
    done -> The data doesnâ€™t need to be persisted when the browser page is closed.
  */

    // ::: ToDo :::
    // done -> add delete undo
    // postponed -> hide searchbar, when 0 contacts
    // done ->edit single contacts
    // done -> use #confirmedMessage for all messages
    // done -> put all functions in script.js
    // done -> check/uncheck in liveSearch()
    // sort table

    // ::: Cleanup :::
    // done -> responsiveness
    // order themed functions
    // order css
    // remove unused functions/vars...
    // done -> merge dev back to master

    initApp();

    // user interaction handling
    $('#contactList').change(checkboxUpdate)
    $('#searchfield').keyup(liveSearch);
    $('#showInput').on('click', showContactInput);
    $('#resetButton').on('click', resetContacts);
    $('#deleteButton').on('click', deleteContacts);
    $('#undoButton').on('click', undoDelete);
    $('#saveButton').on('click', saveChanges);
    $('#contactListFooter input[type=text]').not('#searchfield').keyup(addContact);
    $('.tableHeading').on('click', sortTable);

    $(window).keyup(closeDialog);
    $(window).resize(resizeContactList);

  </script>
</body>
</html>
